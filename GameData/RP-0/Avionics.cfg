// Disable attitude control on non-control parts. FIXME Add to this patch
// all probes which should not have independent attitude control.
@PART[SXTSputnik|FASAExplorerProbe]:FOR[RP-0]
{
	MODULE
	{
		name = ModuleScienceCore
	}
}

// FIXME: Do this for other small upper stages.
@PART[FASAAgenaProbe]:FOR[RP-0]
{
	MODULE
	{
		name = ModuleAvionics
		massLimit = 12.0
	}
}
// FIXME: Add any other 1-person capsules here
@PART[mk1pod|FASAMercuryPod|FASAExplorerNosecone]:FOR[RP-0]
{
	MODULE
	{
		name = ModuleAvionics
		massLimit = 60.0
	}
}

// FIXME do this for anything else Apollo sized
@PART[Apollo|Mark1-2]:FOR[RP-0]
{
	MODULE
	{
		name = ModuleAvionics
		massLimit = 100.0
	}
}

// FIXME: set small lander cabin to 20t, large one to 30t?

// FIXME: Add this to all probe cores that allow control but only for small probes. Vary tonnage as desired.
@PART[SmallProbes]:FOR[RP-0]
{
	MODULE
	{
		name = ModuleAvionics
		massLimit = 1.0
	}
}

// Saturn IU, S-IVB. Note we make a stock version, RP0probeAvionics66m
@PART[FASAApolloIU|FASAApalloLFTJ2Plate]:FOR[RP-0]
{
	MODULE
	{
		name = ModuleAvionics
		massLimit = 20000.0
	}
}
// Titan I upper stage, Titan I was 105t but let's add some margin.
@PART[TitanIUpper]:FOR[RP-0]
{
	MODULE
	{
		name = ModuleAvionics
		massLimit = 120.0
	}
}

// Titan II / IIGLV
@PART[FASAGeminiLFTMedWhite]:FOR[RP-0]
{
	MODULE
	{
		name = ModuleAvionics
		massLimit = 150.0
	}
}

// FIXME Titan III/IV upper stage avionics should be about 1000t.

// FIXME Transtage should allow 30t.

// FIXME: Atlas cores should have enough for the Atlas tank + engines,
// Centaurs enough for themselves plus payload, same for any other replica parts.

// Since mass is now cumulative, for LVs where both the first and second
// stages have avionics, they can be apportioned like that; for LVs
// like Titan or Saturn where there's only avionics on an upper stage,
// it needs to cover the whole LV.

// Cloned parts
// small and large stackmount probes: place copies in Basic Orbital, originals later. ???
+PART[probeStackLarge]:AFTER[RealismOverhaul]
{
	@name = GuidanceEarly3m
	@title = Guidance Unit (Early), 3m
	@description = This avionics unit allows full control over the vessel, up to the tonnage limit (cumulative).
	@MODULE[ModuleCommand]
	{
		@RESOURCE[ElectricCharge]
		{
			@rate = 0.6
		}
	}
	@RESOURCE[ElectricCharge]
	{
		@amount = 1080
		@maxAmount = 1080
	}
	MODULE
	{
		name = ModuleAvionics
		massLimit = 300.0
	}
}
+PART[probeStackSmall]:AFTER[RealismOverhaul]
{
	@name = GuidanceEarly2m
	@title = Guidance Unit (Early), 2m
	@description = This avionics unit allows full control over the vessel, up to the tonnage limit (cumulative).
	@MODULE[ModuleCommand]
	{
		@RESOURCE[ElectricCharge]
		{
			@rate = 0.3
		}
	}
	@RESOURCE[ElectricCharge]
	{
		@amount = 540
		@maxAmount = 540
	}
	MODULE
	{
		name = ModuleAvionics
		massLimit = 120.0
	}
}

// mini, for Vanguard
+PART[probeStackLarge]:AFTER[RealismOverhaul]
{
	@name = GuidanceEarly1m
	@title = Guidance Unit (Early), 1m
	@description = This avionics unit allows full control over the vessel, up to the tonnage limit (cumulative).
	@MODEL
	{
		@scale = 0.4, 0.4, 0.4
	}
	@node_stack_bottom = 0.0, -0.076, 0.0, 0.0, 1.0, 0.0, 1
	@node_stack_top = 0.0, 0.076, 0.0, 0.0, 1.0, 0.0, 1
	@mass = 0.35
	@MODULE[ModuleCommand]
	{
		@RESOURCE[ElectricCharge]
		{
			@rate = 3
		}
	}
	@RESOURCE[ElectricCharge]
	{
		@amount = 1080
		@maxAmount = 1080
	}
	MODULE
	{
		name = ModuleAvionics
		massLimit = 45.0
	}
}